<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta name="keywords" content="Shade, Hue, Kotlin, Java, Android, Library" />
    <meta name="robots" content="index, follow" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Shade / Kotlin SDK</title>

    <link rel="stylesheet" href="css/main-2.0.css" type="text/css" media="all" />

    <script src="https://assets.inkapplications.com/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>
<body class="sectioned">
<header class="content-break">
    <a href="index.html">
        <img src="svg/logo-full.svg" class="logo only-lightmode" alt="Shade Logo" />
        <img src="svg/logo-full-dark.svg" class="logo only-darkmode" alt="Shade Logo" />
    </a>
    <nav>
        <ul>
            <li>
                <a href="index.html">Home</a>
            </li>
            <li>
                SDK Overview
            </li>
        </ul>
    </nav>
</header>
    <section>
        <header>
            <a name="sdk" href="#sdk">
                <h1>Kotlin SDK</h1>
            </a>
        </header>
        <p>
            Shade's Kotlin SDK provides simple type-safe access to your Hue
            lights. Shade is built using Kotlin's Coroutines to provide a simple
            straightforward API on Android or the JVM.
        </p>
        <h2>Set up the SDK in Gradle</h2>
        <p>
            Shade's SDK is available in Maven Central, with the with the
            following coordinates in your <code>build.gradle</code> file
        </p>
<pre><code class="kotlin">implementation("com.inkapplications.shade:core:2.+")</code></pre>
        <h2>Create a Shade Object</h2>
        <p>
            All of Shade's commands can be run through the <code>Shade</code>
            object. To use it, you can start by creating an Instance of the
            class for your application:
        </p>
<pre><code class="kotlin">val shade = Shade()</code></pre>
        <nav>
            <ul>
                <li>
                    <a href="sdk-initialization.html">Advanced Initialization</a>
                </li>
            </ul>
        </nav>
    </section>
    <section>
        <header>
            <a name="discovery" href="#discovery">
                <h1>Bridge Discovery</h1>
            </a>
        </header>
        <p>
            The discovery process uses Hue's API to find Hue Bridges on the
            local network. This is the only command in the SDK that requires
            an internet connection, and is only used to find bridges. If you
            know the IP address of the hue bridge that you want to connect to,
            this step can be skipped.
        </p>
        <p>
            Request a list of local devices on the network with the
            <code>getDevices()</code> command:
        </p>
<pre><code class="kotlin">val devices = shade.onlineDiscovery.getDevices()</code></pre>
    </section>
    <section>
        <header>
            <a name="authorize" href="#authorize">
                <h1>Authorize with the Hue Bridge</h1>
            </a>
        </header>
        <p>
            Shade's Auth module can be used to obtain an access token from
            the hue bridge using it's single button authorization.
        <p>
        <p>
            To request a token call the <code>awaitToken()</code> method,
            providing information about your application:
        </p>
<pre><code class="kotlin">val token = shade.auth.awaitToken(
    appId = AppId(
        appName = "MyApp",
        instanceId = "android",
    ),
)</code></pre>
        <p>
            This will suspend until the button on the hue bridge is pressed
            and an <code>AuthToken</code> is returned. Shade will
            automatically set this token for use internally. However, you
            should save the returned token for future connections.
        <p>
        <p>
            Optionally, you may set a maximum number of retries and change
            the timeout between checks that is used for authorization by
            including the <code>retries</code> or <code>timout</code> arguments
            when calling <code>awaitToken</code>.
        </p>
    </section>
    <section>
        <header>
            <a name="lights" href="#lights">
                <h1>Control Lights</h1>
            </a>
        </header>
        <p>
            Individual lights can be controlled through the <code>lights</code>
            module:
        </p>
<pre><code class="kotlin">shade.lights.updateLight(
    id = lightId,
    parameters = LightUpdateParameters(
        brightness = 10.percent,
    ),
)</code></pre>
        <p>
            The lights module supports the following actions:
        </p>
        <ul>
            <li>
                <code>listLights</code> To get a list of all lights on the
                hue bridge
            </li>
            <li>
                <code>getLight</code> To get information about a single light
            </li>
            <li>
                <code>updateLight</code> To update information about a single
                light
            </li>
        </ul>
    </section>
    <section>
        <header>
            <a name="rooms" href="#rooms">
                <h1>Configure Rooms</h1>
            </a>
        </header>
        <p>
            Rooms can be created and updated through the <code>rooms</code>
            module:
        </p>
<pre><code class="kotlin">shade.rooms.createRoom(
    parameters = RoomCreateParameters(
        metadata = RoomMetadata(
            name = "Game Room",
            archetype = RoomArchetype.Recreation,
        ),
        children = listOf(lightReference),
    ),
)</code></pre>
        <p>
            The rooms module supports the following actions:
        </p>
        <ul>
            <li>
                <code>listRooms</code> To get a list of all rooms on the
                hue bridge
            </li>
            <li>
                <code>getRoom</code> To get information about a single room
            </li>
            <li>
                <code>updateRoom</code> To update information about a single
                room
            </li>
            <li>
                <code>createRoom</code> To create a new room on the hue bridge
            </li>
            <li>
                <code>deleteRoom</code> To remove a room from the hue bridge
            </li>
        </ul>
    </section>
    <section>
        <header>
            <a name="zones" href="#zones">
                <h1>Configure Zones</h1>
            </a>
        </header>
        <p>
            Zones can be created and updated through the <code>zones</code>
            module:
        </p>
<pre><code class="kotlin">shade.zones.listZones()</code></pre>
        <p>
            The zones module supports the following actions:
        </p>
        <ul>
            <li>
                <code>listZones</code> To get a list of all zones on the
                hue bridge
            </li>
        </ul>
    </section>
</body>
</html>
